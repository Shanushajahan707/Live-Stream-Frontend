<div class="flex flex-col h-screen">
  <!-- Video and Chat Container -->
  <div class="flex flex-1">
    <!-- Video Section -->
    <div class="flex flex-col lg:flex-row w-full lg:w-3/4 p-4 lg:p-24 bg-black relative">
      <div class="flex-1 mb-4 lg:mb-0 relative">
        <!-- Room Info -->
        <div class="absolute top-0 left-0 p-2 text-white">
          <span class="text-red-500">Room ID:</span> {{ receivedData.RoomId }} - 
          <span class="text-green-500">Live Name:</span> {{ receivedData.Livename }}
        </div>
        <!-- Main Video for Remote User -->
        <video
          id="remoteVideo"
          class="w-full h-full video-player"
          #remoteVideo
          controls
          autoplay
        ></video>
      </div>
      <!-- User's Video - positioned next to the right side of the main video tag -->
      <div class="w-full lg:w-56 lg:h-44 bg-black border border-gray-700 relative">
        <div class="video-container">
          <div class="absolute top-0 left-0 p-2 text-white">
            <span class="text-red-500">Room ID:</span> {{ receivedData.RoomId }} - 
            <span class="text-green-500">Live Name:</span> {{ receivedData.Livename }}
          </div>
          <video
            id="localVideo"
            class="video-player"
            #localVideo
            controls
            autoplay
            muted
          ></video>
          <div *ngIf="!isVideoOn" class="video-off-message">
            The video feed is off
          </div>
        </div>
      </div>
    </div>
    
    <!-- Chat Section -->
    <div class="p-6 hidden lg:flex w-full lg:w-1/4 flex-col bg-gray-900">
      <div class="h-full overflow-y-auto flex-1">
        <app-chat></app-chat>
      </div>
    </div>
  </div>

  <!-- Control Buttons -->
  <div class="flex justify-center p-4 bg-gray-800 space-x-2 lg:space-x-4">
    <button
      class="bg-gray-700 p-2 rounded-full text-white"
      (click)="toggleMic()"
    >
      <i *ngIf="isMicOn" class="fas fa-microphone"></i>
      <i *ngIf="!isMicOn" class="fas fa-microphone-slash"></i>
      <!-- Call mute/unmute icon -->
    </button>

    <button
      class="bg-gray-700 p-2 rounded-full text-white"
      (click)="toggleVideo()"
    >
      <i *ngIf="isVideoOn" class="fas fa-video"></i>
      <i *ngIf="!isVideoOn" class="fas fa-video-slash"></i>
      <!-- Video mute/unmute icon -->
    </button>

    <button id="screenShare" class="bg-gray-700 p-2 rounded-full text-white">
      <i class="fas fa-desktop"></i>
      <!-- Screenshare icon -->
    </button>

    <button (click)="endCall()" class="bg-red-500 p-2 rounded-full text-white">
      <i class="fas fa-phone-slash"></i>
      <!-- Call hang icon -->
    </button>
  </div>
</div>
